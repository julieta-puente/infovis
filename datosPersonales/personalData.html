<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="https://cdn.rawgit.com/novus/nvd3/v1.8.1/build/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.2/d3.min.js" charset="utf-8"></script>
    <script src="https://cdn.rawgit.com/novus/nvd3/v1.8.1/build/nv.d3.js"></script>
    <script src="stackedAreaChart.js" charset="utf-8"></script>
    <script src="focus.js" charset="utf-8"></script>
    <script src="interactiveLayer.js" charset="utf-8"></script>
    <script src="tooltip.js" charset="utf-8"></script>
    <script src="utils.js" charset="utf-8"></script>

    <style>
        text {
            font: 12px sans-serif;
        }
        svg {
            display: block;
        }
        html, body, svg {
            margin: 0px;
            padding: 0px;
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body class='with-3d-shadow with-transitions'>
<svg id="chart1"></svg>

<script>
    var histcatexplong = [
        {
            "key": "vip",
            "values": [[1426377600000, 0],[1426982400000,0],[1427587200000,0],[1428192000000,0],[1428796800000, 0],[1429401600000, 0],[1430006400000, 0],[1430611200000, 0],[1431216000000, 0],[1431820800000, 0],[1432425600000,0],[1433030400000,0],[1433635200000,0],[1434240000000,0],[1434844800000,0],[1435449600000,0],[1436054400000,0],[1436659200000, 3],[1437264000000, 12],[1437868800000, 8],[1438473600000, 22],[1439078400000, 11],[1439683200000, 5], [1440288000000, 16], [1440892800000, 1],[1441497600000,0],[1442102400000,0],[1442707200000, 0],[1443312000000, 0],[1443916800000,0],[1444521600000, 0],[1446336000000, 0],[1446940800000, 0],[1447545600000,0],[1448150400000, 1] ,[1448755200000, 5],[1450569600000, 6], [1451174400000, 5],[1451779200000,1],[1452384000000,0],[1452988800000, 0],[1453593600000, 0], [1456012800000, 0],[1456617600000,0],[1457222400000, 0],[1457827200000, 0],[1458432000000, 0],[1459036800000,0],[1459641600000,0],[1460246400000, 0],[1460851200000,0]]
        },
        {
            "key": "ui",
            "values": [[1426377600000, 0],[1426982400000,0],[1427587200000,0],[1428192000000,0],[1428796800000, 0],[1429401600000, 0],[1430006400000, 0],[1430611200000, 0],[1431216000000, 0],[1431820800000, 0],[1432425600000,0],[1433030400000,0],[1433635200000,0],[1434240000000,0],[1434844800000,0],[1435449600000,0],[1436054400000,0],[1436659200000, 0],[1437264000000, 0],[1437868800000, 0],[1438473600000, 0],[1439078400000, 0],[1439683200000, 0],[1440288000000, 0],[1440892800000, 0],[1441497600000,0],[1442102400000,0],[1442707200000, 0],[1443312000000, 0],[1443916800000,0],[1444521600000, 0],[1446336000000, 0],[1446940800000, 0],[1447545600000,0],[1448150400000, 0],[1448755200000, 0],[1450569600000, 0],[1451174400000, 0],[1451779200000, 3],[1452384000000,7],[1452988800000, 11],[1453593600000, 15], [1456012800000, 1],[1456617600000,8],[1457222400000, 10],[1457827200000, 5],[1458432000000, 2],[1459036800000,8],[1459641600000,3],[1460246400000, 7],[1460851200000,3]]
        },
       {
            "key": "home",
            "values": [[1426377600000, 1],[1426982400000,6],[1427587200000,0],[1428192000000,15],[1428796800000, 19],[1429401600000, 11],[1430006400000, 9],[1430611200000, 26],[1431216000000, 4],[1431820800000, 2],[1432425600000,0],[1433030400000,0],[1433635200000,0],[1434240000000,0],[1434844800000,0],[1435449600000,0],[1436054400000,0],[1436659200000, 0],[1437264000000, 0],[1437868800000, 0],[1438473600000, 0],[1439078400000, 0],[1439683200000, 0],[1440288000000, 0],[1440892800000, 0],[1441497600000,0],[1442102400000,0],[1442707200000, 0],[1443312000000, 0],[1443916800000,0],[1444521600000, 0],[1446336000000, 0],[1446940800000, 0],[1447545600000,0],[1448150400000, 0],[1448755200000, 0],[1450569600000, 0],[1451174400000, 0],[1451779200000,0],[1452384000000,0],[1452988800000, 0],[1453593600000, 0], [1456012800000, 0],[1456617600000,0],[1457222400000, 0],[1457827200000, 0],[1458432000000, 0],[1459036800000,0],[1459641600000,0],[1460246400000, 0],[1460851200000,0]]
        },
        {
            "key" : "search",
            "values": [[1426377600000, 0],[1426982400000,0],[1427587200000,0],[1428192000000,0],[1428796800000, 0],[1429401600000, 0],[1430006400000, 0],[1430611200000, 0],[1431216000000, 0],[1431820800000, 0],[1432425600000,0],[1433030400000,0],[1433635200000,0],[1434240000000,0],[1434844800000,0],[1435449600000,0],[1436054400000,0],[1436659200000, 0],[1437264000000, 0],[1437868800000, 0],[1438473600000, 0],[1439078400000, 0],[1439683200000, 0],[1440288000000, 0],[1440892800000, 0],[1441497600000,0],[1442102400000,0],[1442707200000, 2],[1443312000000, 1],[1443916800000,1],[1444521600000, 3], [1446336000000, 2],[1446940800000, 3],[1447545600000,4],[1448150400000, 2],[1448755200000, 0],[1450569600000, 0],[1451174400000, 0],[1451779200000,0],[1452384000000,0],[1452988800000, 0],[1453593600000, 0], [1456012800000, 0],[1456617600000,0],[1457222400000, 0],[1457827200000, 0],[1458432000000, 0],[1459036800000,0],[1459641600000,0],[1460246400000, 0],[1460851200000,0]]
        },
        {
            "key" : "sdk",
            "values": [[1426377600000, 0],[1426982400000, 0],[1427587200000,0],[1428192000000,0],[1428796800000, 0],[1429401600000, 0],[1430006400000, 0],[1430611200000, 0],[1431216000000, 0],[1431820800000, 0],[1432425600000,0],[1433030400000,0],[1433635200000,0],[1434240000000,0],[1434844800000,0],[1435449600000,3],[1436054400000,0],[1436659200000, 0],[1437264000000, 0],[1437868800000, 0],[1438473600000, 0],[1439078400000, 0],[1439683200000, 1],[1440288000000, 0],[1440892800000, 0],[1441497600000,0],[1442102400000,0],[1442707200000, 0],[1443312000000, 0],[1443916800000,0],[1444521600000, 0],[1446336000000, 0],[1446940800000,1],[1447545600000,3],[1448150400000,5],[1448755200000, 0],[1450569600000, 0],[1451174400000,1],[1451779200000, 1],[1452384000000,0],[1452988800000,1],[1453593600000, 1],[1456012800000, 0],[1456617600000,0],[1457222400000,1],[1457827200000, 0],[1458432000000, 0],[1459036800000,0],[1459641600000,0],[1460246400000, 0],[1460851200000,1]]
        },
       {
            "key": "ios",
            "values": [[1426377600000, 5],[1426982400000, 1],[1427587200000,1],[1428192000000,0],[1428796800000, 0],[1429401600000, 3],[1430006400000, 2],[1430611200000, 3],[1431216000000, 2],[1431820800000, 8],[1432425600000,2],[1433030400000,3],[1433635200000,5],[1434240000000,5],[1434844800000,9],[1435449600000, 4],[1436054400000, 3],[1436659200000,1],[1437264000000, 0],[1437868800000, 0],[1438473600000,1],[1439078400000,1],[1439683200000, 0],[1440288000000, 0],[1440892800000,6],[1441497600000,3],[1442102400000,3],[1442707200000,1],[1443312000000,4],[1443916800000,6],[1444521600000,3],[1446336000000, 0],[1446940800000,0],[1447545600000,0],[1448150400000,0],[1448755200000,3],[1450569600000,1],[1451174400000,0],[1451779200000,3],[1452384000000,0],[1452988800000,0],[1453593600000, 0],[1456012800000, 0],[1456617600000,0],[1457222400000,0],[1457827200000, 0],[1458432000000, 0],[1459036800000,0],[1459641600000,0],[1460246400000, 0],[1460851200000,0]]
        }
    ];


    var colors = d3.scale.category20();
    var chart;
    nv.addGraph(function() {
        chart = nv.models.stackedAreaWithFocusChart()
                .useInteractiveGuideline(true)
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                .controlLabels({stacked: "Stacked"})
                .duration(300);
        chart.brushExtent([1426377600000, 1460851200000]);
        chart.xAxis.tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });
        chart.x2Axis.tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });
        chart.yAxis.tickFormat(d3.format(',.0f'));
        chart.y2Axis.tickFormat(d3.format(',.0f'));
        chart.legend.vers('furious');
        d3.select('#chart1')
                .datum(histcatexplong)
                .transition().duration(1000)
                .call(chart)
                .each('start', function() {
                    setTimeout(function() {
                        d3.selectAll('#chart1 *').each(function() {
                            if(this.__transition__)
                                this.__transition__.duration = 1;
                        })
                    }, 0)
                });
        nv.utils.windowResize(chart.update);
        return chart;
    });
</script>
</body>
</html>